'use strict';

exports.__esModule = true;
exports.unuse = unuse;
exports.use = use;

var _index = require('./index');

var _index2 = _interopRequireDefault(_index);

var _defaultTinyI18n = require('./defaultTinyI18n');

var _defaultTinyI18n2 = _interopRequireDefault(_defaultTinyI18n);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * @file register
 * @author Cuttle Cong
 * @date 2018/6/19
 * @description
 */
var createElement = _index2.default.createElement,
    overrideTinyI18n = _index2.default.tinyI18n,
    configure = _index2.default.configure;


var cached = {};

function unuse() {
  configure({
    enabled: false
  });

  if (cached.i18n) {
    overrideTinyI18n.i18n = cached.i18n;
  }
  if (cached.setLanguage) {
    overrideTinyI18n.setLanguage = cached.setLanguage;
  }
  if (cached.createElement) {
    require('react').createElement = cached.createElement;
  }

  cached = {};
}

function use() {
  var tinyI18n = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _defaultTinyI18n2.default;

  unuse();

  configure({
    enabled: true
  });
  cached.i18n = tinyI18n.i18n;
  cached.setLanguage = tinyI18n.setLanguage;
  cached.createElement = require('react').createElement;

  tinyI18n.i18n = overrideTinyI18n.i18n;
  tinyI18n.setLanguage = overrideTinyI18n.setLanguage;
  require('react').createElement = createElement;
}

use();